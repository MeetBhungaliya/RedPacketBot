"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Queue {
    constructor() {
        this.set = new Set();
        this.order = [];
        this.subscribers = [];
    }
    enqueue(item) {
        if (!this.set.has(item)) {
            this.set.add(item);
            this.order.push(item);
            this.notifySubscribers(item);
        }
    }
    dequeue() {
        if (this.order.length === 0) {
            return undefined;
        }
        const item = this.order.shift();
        this.set.delete(item);
        return item;
    }
    peek() {
        return this.order[0];
    }
    isEmpty() {
        return this.order.length === 0;
    }
    size() {
        return this.order.length;
    }
    subscribe(callback) {
        this.subscribers.push(callback);
    }
    notifySubscribers(item) {
        this.subscribers.forEach((subscriber) => subscriber(item));
    }
}
exports.default = new Queue();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVldWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbGliL3F1ZXVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxLQUFLO0lBS1Q7UUFDRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxFQUFLLENBQUE7UUFDdkIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUE7UUFDZixJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQTtJQUN2QixDQUFDO0lBRUQsT0FBTyxDQUFDLElBQU87UUFDYixJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUNsQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUNyQixJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDOUIsQ0FBQztJQUNILENBQUM7SUFFRCxPQUFPO1FBQ0wsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUM1QixPQUFPLFNBQVMsQ0FBQTtRQUNsQixDQUFDO1FBQ0QsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUcsQ0FBQTtRQUNoQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNyQixPQUFPLElBQUksQ0FBQTtJQUNiLENBQUM7SUFFRCxJQUFJO1FBQ0YsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxPQUFPO1FBQ0wsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUE7SUFDaEMsQ0FBQztJQUVELElBQUk7UUFDRixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFBO0lBQzFCLENBQUM7SUFFRCxTQUFTLENBQUMsUUFBd0I7UUFDaEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUE7SUFDakMsQ0FBQztJQUVPLGlCQUFpQixDQUFDLElBQU87UUFDL0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO0lBQzVELENBQUM7Q0FDRjtBQUVELGtCQUFlLElBQUksS0FBSyxFQUFVLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBRdWV1ZTxUPiB7XG4gIHByaXZhdGUgc2V0OiBTZXQ8VD5cbiAgcHJpdmF0ZSBvcmRlcjogVFtdXG4gIHByaXZhdGUgc3Vic2NyaWJlcnM6IEFycmF5PChfOiBUKSA9PiB2b2lkPlxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2V0ID0gbmV3IFNldDxUPigpXG4gICAgdGhpcy5vcmRlciA9IFtdXG4gICAgdGhpcy5zdWJzY3JpYmVycyA9IFtdXG4gIH1cblxuICBlbnF1ZXVlKGl0ZW06IFQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc2V0LmhhcyhpdGVtKSkge1xuICAgICAgdGhpcy5zZXQuYWRkKGl0ZW0pXG4gICAgICB0aGlzLm9yZGVyLnB1c2goaXRlbSlcbiAgICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoaXRlbSlcbiAgICB9XG4gIH1cblxuICBkZXF1ZXVlKCk6IFQgfCB1bmRlZmluZWQge1xuICAgIGlmICh0aGlzLm9yZGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgICBjb25zdCBpdGVtID0gdGhpcy5vcmRlci5zaGlmdCgpIVxuICAgIHRoaXMuc2V0LmRlbGV0ZShpdGVtKVxuICAgIHJldHVybiBpdGVtXG4gIH1cblxuICBwZWVrKCk6IFQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLm9yZGVyWzBdXG4gIH1cblxuICBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm9yZGVyLmxlbmd0aCA9PT0gMFxuICB9XG5cbiAgc2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm9yZGVyLmxlbmd0aFxuICB9XG5cbiAgc3Vic2NyaWJlKGNhbGxiYWNrOiAoXzogVCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuc3Vic2NyaWJlcnMucHVzaChjYWxsYmFjaylcbiAgfVxuXG4gIHByaXZhdGUgbm90aWZ5U3Vic2NyaWJlcnMoaXRlbTogVCk6IHZvaWQge1xuICAgIHRoaXMuc3Vic2NyaWJlcnMuZm9yRWFjaCgoc3Vic2NyaWJlcikgPT4gc3Vic2NyaWJlcihpdGVtKSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUXVldWU8c3RyaW5nPigpXG4iXX0=